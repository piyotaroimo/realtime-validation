<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <title>realtime-validation</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles/style.css">
  </head>
  <body>
    <div class="container">
      <div class="page-header">
        <h1>V</h1>
      </div>
      <form data-rv-form="formName" class="" method="post" action="">
          <div class="row">
            <div class="col">
              <label for="">必須項目</label>
            </div>
            <div class="col">
              <input
                type="text"
                class=""
                data-rv-validate="hissu"
                required
              >
              <p class="err" data-rv-error="hissu.required">ひっすっす</p>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <label for="">4文字以上8文字以下</label>
            </div>
            <div class="col">
              <input
                type="text"
                class=""
                placeholder="4文字以上8文字以内で入力してください"
                data-rv-validate="maxmin"
                data-rv-minlength="5"
                data-rv-maxlength="10"
                data-tetetetete="www"
              >
              <p class="err" data-rv-error="maxmin.minlength">みん</p>
              <p class="err" data-rv-error="maxmin.maxlength">まっくす</p>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <label for="">数字のみ</label>
            </div>
            <div class="col">
              <input
                type="text"
                class=""
                placeholder="数字のみ"
                data-rv-validate="number"
                required
              >
              <p class="err" data-rv-error="number.required">ひっすっすuzi</p>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <label for="">url</label>
            </div>
            <div class="col">
              <input type="text" class="" placeholder="url入力">
              <p class="err"></p>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <label for="">メールアドレス</label>
            </div>
            <div class="col">
              <input
                type="text"
                class=""
                placeholder="メールアドレス入力"
                data-rv-validate="ckmail"
                data-rv-mail
              >
              <p class="err" data-rv-error="ckmail.mail">めーるあどえす</p>
            </div>
          </div>
          <div class="row">
              <!-- <button type="button" data-rv-submit="formName" class="js-submit btn btn-default">送信</button> -->
              <input id="submit-a" type="submit" data-rv-submit value="submit" class="btn btn-default">
          </div>
      </form>

      <div class="page-header">
        <h1>VV</h1>
      </div>
      <form data-rv-form="otherForm" class="" method="post" action="">
          <div class="row">
            <div class="col">
              <label for="">必須項目</label>
            </div>
            <div class="col">
              <input
                type="text"
                class=""
                data-rv-validate="hissu"
                required
              >
              <p class="err" data-rv-error="hissu.required">ひっすっす</p>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <label for="">4文字以上8文字以下</label>
            </div>
            <div class="col">
              <input
                type="text"
                class=""
                placeholder="4文字以上8文字以内で入力してください"
                data-rv-validate="maxmin"
                data-rv-minlength="5"
                data-rv-maxlength="10"
                data-tetetetete="www"
              >
              <p class="err" data-rv-error="maxmin.minlength">みん</p>
              <p class="err" data-rv-error="maxmin.maxlength">まっくす</p>
            </div>
          </div>
          <div class="row">
              <input id="submit-b" type="submit" data-rv-submit value="submit2" class="btn btn-default">
          </div>
      </form>
      <!--<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>-->
      <script src="scripts/rt-validate-model.js"></script>
      <script src="scripts/rt-validate-view.js"></script>
      <script src="scripts/rt-validate-form.js"></script>
      <script>
        ;(function() {
            var validationPrefix = 'rv',
                formKey = 'formName',
                validations = new RtValidateForm(formKey, validationPrefix);

            // バリデート時の対象要素のハンドリングを設定
            validations.setOnValid(function(){
              this.el.classList.remove('error');
            });
            validations.setOnInValid(function(){
              this.el.classList.add('error');
            });

            validations.initialize();

            // click submit
            document.getElementById('submit-a')
                    .addEventListener('click', function (e) {
              console.log(validations.isValid());
            });


            var formKeyB = 'otherForm',
                validationsB = new RtValidateForm(formKeyB, validationPrefix);

            validationsB.setOnValid(function(){
              this.el.classList.remove('error');
            });
            validationsB.setOnInValid(function(){
              this.el.classList.add('error');
            });

            validationsB.initialize();

            // click submit
            document.getElementById('submit-b')
                    .addEventListener('click', function (e) {
              console.log(validationsB.isValid());
            });

        })();
      </script>
    </div>
  </body>
</html>